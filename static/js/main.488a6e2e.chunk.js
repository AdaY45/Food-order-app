(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={"checkout-form":"CheckoutForm_checkout-form__20_zC",invalid:"CheckoutForm_invalid__3wsy8","checkout-header":"CheckoutForm_checkout-header__2aF2D",error:"CheckoutForm_error__LLxrj","error-message":"CheckoutForm_error-message__27zSm",checkout:"CheckoutForm_checkout__33pqW"}},function(e,t,n){e.exports={"app-name":"MainHeader_app-name__3i1Du",logo:"MainHeader_logo__3Cj_E",navbar:"MainHeader_navbar__3C1qe","nav-btn":"MainHeader_nav-btn__1rc6Y",active:"MainHeader_active__3YOJS",contact:"MainHeader_contact__lpuiT",about:"MainHeader_about__39M55"}},,function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__V2r2V",price:"CartItem_price__25p9E","change-quantity":"CartItem_change-quantity__2V_HZ",quantity:"CartItem_quantity__12md1"}},,,,,function(e,t,n){e.exports={"header-btn":"HeaderCartButton_header-btn___75iX","button-name":"HeaderCartButton_button-name__MImeE",quantity:"HeaderCartButton_quantity__3lg6s",bump:"HeaderCartButton_bump__2G6rn"}},function(e,t,n){e.exports={"modal-background":"Cart_modal-background__1yIYG",modal:"Cart_modal__yW62R","modal-checkout":"Cart_modal-checkout__lsTko","modal-content":"Cart_modal-content__VUch9",container:"Cart_container__3tgzF",buttons:"Cart_buttons__2frQf","buttons-block":"Cart_buttons-block__3pgOO"}},function(e,t,n){e.exports={"meal-item":"MealItem_meal-item__36zpd",name:"MealItem_name__1J6hk",description:"MealItem_description__1mgsd",price:"MealItem_price__VypPj"}},function(e,t,n){e.exports={"hero-section":"HeroSection_hero-section__3_w8a",container:"HeroSection_container__15Wp6","text-block":"HeroSection_text-block__2KXRJ","text-header":"HeroSection_text-header__2-qvT"}},,,function(e,t,n){e.exports={"about-us":"AboutUs_about-us__11OM2",img:"AboutUs_img__2TNJi",text:"AboutUs_text__1imZ7"}},,,,function(e,t,n){e.exports={total:"Total_total__bDG63"}},function(e,t,n){e.exports={button:"Button_button__2LWdg",dark:"Button_dark__3kvva",light:"Button_light__S4g8a"}},function(e,t,n){e.exports={buttons:"CartButtons_buttons__70MfC","buttons-block":"CartButtons_buttons-block__NQJFS"}},,function(e,t,n){e.exports={success:"SuccessfullyOrdered_success__2iVmF",container:"SuccessfullyOrdered_container__360O8"}},function(e,t,n){e.exports={"form-control":"Input_form-control__2vk7j",amount:"Input_amount__3qyUQ"}},function(e,t,n){e.exports={"meals-form":"MealItemForm_meals-form__2VIvf",error:"MealItemForm_error__1dIZQ"}},function(e,t,n){},,,function(e,t,n){e.exports={loader:"Loader_loader__2AKZq",spinner:"Loader_spinner__Eon6O"}},function(e,t,n){e.exports={contacts:"Contacts_contacts__1LMpT"}},function(e,t,n){e.exports={error:"NotFound_error__27kxX"}},function(e,t,n){e.exports={meals:"Meals_meals__17yni"}},,,,,function(e,t,n){},,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(12),s=n.n(r),o=(n(46),n(3)),i=n(5),l=n(4),u=n(35),d=n.n(u),m=n(14),j=(n(50),n(0)),b=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},h=n(16),O=Object(h.b)({name:"ui",initialState:{isModalOpen:!1},reducers:{onOpen:function(e){e.isModalOpen=!0},onClose:function(e){e.isModalOpen=!1}}}),f=O.actions,p=O.reducer,x=n(18),_=n.n(x),v=function(){var e=Object(l.b)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(l.c)((function(e){return e.cart.items})),o=s.reduce((function(e,t){return e+t.amount}),0),u="".concat(_.a["header-btn"]," ").concat(c?_.a.bump:"");Object(a.useEffect)((function(){if(0!==s.length){r(!0);var e=setTimeout((function(){r(!1)}),300);return function(){clearTimeout(e)}}}),[s]);return Object(j.jsxs)("button",{onClick:function(){e(f.onOpen())},className:u,children:[Object(j.jsx)(b,{className:_.a.icon}),Object(j.jsx)("div",{className:_.a["button-name"],children:"Your Cart"}),Object(j.jsx)("div",{className:_.a.quantity,children:o||0})]})},C=n(11),N=n.n(C),y=function(){return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)("header",{children:[Object(j.jsx)(m.b,{to:"/meals",className:N.a.logo,children:Object(j.jsx)("h2",{className:N.a["app-name"],children:"Tasteful"})}),Object(j.jsx)("nav",{className:N.a.navbar,children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:N.a.contact,children:Object(j.jsx)(m.c,{className:N.a["nav-btn"],to:"/contacts",activeClassName:N.a.active,children:"Contacts"})}),Object(j.jsx)("li",{className:N.a.about,children:Object(j.jsx)(m.c,{className:N.a["nav-btn"],to:"/about-us",activeClassName:N.a.active,children:"About us"})}),Object(j.jsx)("li",{children:Object(j.jsx)(v,{})})]})})]})})},g=n(17),k=n(13),I=n.n(k),S=function(e){return Object(j.jsxs)("div",{className:I.a["cart-item"],children:[Object(j.jsxs)("div",{className:I.a["cart-block"],children:[Object(j.jsx)("h3",{className:I.a.name,children:e.cartMeal.name}),Object(j.jsxs)("h4",{className:I.a.price,children:["$",e.cartMeal.price.toFixed(2)]})]}),Object(j.jsxs)("div",{className:I.a["cart-block"],children:[Object(j.jsxs)("h4",{className:I.a.quantity,children:["Quantity: ",e.cartMeal.amount]}),Object(j.jsxs)("div",{className:I.a["change-quantity"],children:[Object(j.jsx)("button",{onClick:e.onRemove,children:"-"}),Object(j.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})]})},A=n(28),w=n.n(A),M=function(e){return Object(j.jsxs)("div",{className:w.a.total,children:[Object(j.jsx)("h3",{children:"Total Amount"}),Object(j.jsxs)("h3",{className:w.a.price,children:["$",e.total]})]})},F=n(29),H=n.n(F),T=function(e){return Object(j.jsx)("button",{type:e.type||"button",className:H.a.button+" "+H.a[e.color],onClick:e.onClick,disabled:!e.formIsValid&&"confirm"===e.btnType,children:e.children})},B=n(30),q=n.n(B),E=function(e){var t=Object(l.b)();return Object(j.jsx)("div",{className:q.a.buttons,children:Object(j.jsxs)("div",{className:q.a["buttons-block"],children:[Object(j.jsx)(T,{onClick:function(){t(f.onClose())},color:"light",children:"Close"}),e.hasCartItems&&!e.showConfirm&&Object(j.jsx)(T,{type:"submit",onClick:e.orderHandler,children:"Order"}),e.showConfirm&&Object(j.jsx)(T,{formIsValid:e.formIsValid,btnType:e.btnType||"",type:"submit",children:"Confirm"})]})})},V=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],d=e(c);return{value:c,isValid:d,hasErrors:!d&&l,valueChangeHandler:function(e){r(e.target.value)},inputBlurHandler:function(){u(!0)}}},R=n(31),L=n.n(R),P=n(37),J=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1];return{isLoading:n,error:o,sendRequest:Object(a.useCallback)(function(){var e=Object(P.a)(L.a.mark((function e(t,n,a){var r,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&(c(!0),l(null)),e.prev=1,e.next=4,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Request failed!");case 7:return e.next=9,r.json();case 9:s=e.sent,n(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a&&l(e.t0.message||"Something went wrong!");case 16:a&&c(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),[])}},z=n(38),D=n.n(z),U=function(e){return Object(j.jsx)("div",{className:D.a.loader,children:e.children})},Q={items:[],totalAmount:0,changed:!1},W=Object(h.b)({name:"cart",initialState:Q,reducers:{addItem:function(e,t){e.changed=!0,e.totalAmount=e.totalAmount+t.payload.price*t.payload.amount;var n=e.items.findIndex((function(e){return e.id===t.payload.id})),a=e.items[n];a?a.amount=a.amount+t.payload.amount:e.items=e.items.concat(t.payload)},removeItem:function(e,t){e.changed=!0;var n=e.items.findIndex((function(e){return e.id===t.payload})),a=e.items[n];e.totalAmount=e.totalAmount-a.price,1===a.amount?e.items=e.items.filter((function(e){return e.id!==t.payload})):a.amount=a.amount-1},removeAllItems:function(e){e.items=Q.items,e.totalAmount=Q.totalAmount},replaceCart:function(e,t){e.totalAmount=t.payload.totalAmount,e.items=t.payload.items}}}),G=W.actions,Y=W.reducer,Z=n(10),K=n.n(Z),X=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.cart.items})),c=Object(a.useRef)(),r=J(),s=r.isLoading,o=r.error,i=r.sendRequest,u=V((function(e){return""!==e.trim()})),d=u.value,m=u.isValid,b=u.hasErrors,h=u.valueChangeHandler,O=u.inputBlurHandler,p=V((function(e){return""!==e.trim()})),x=p.value,_=p.isValid,v=p.hasErrors,C=p.valueChangeHandler,N=p.inputBlurHandler,y=V((function(e){return""!==e.trim()})),g=y.value,k=y.isValid,I=y.hasErrors,S=y.valueChangeHandler,A=y.inputBlurHandler,w=!1;m&&_&&k&&(w=!0);var M=b?"invalid":"",F=v?"invalid":"",H=I?"invalid":"";return Object(j.jsxs)("div",{className:K.a.background,children:[Object(j.jsx)("h2",{className:K.a["checkout-header"],children:"Checkout"}),s&&Object(j.jsx)(U,{}),o&&Object(j.jsx)("p",{className:"error-message checkout",children:o}),Object(j.jsxs)("form",{onSubmit:function(a){if(a.preventDefault(),m||_||k){var r=c.current.value;i({url:"https://react-http-e03c3-default-rtdb.firebaseio.com/orders.json",method:"POST",headers:{"Content-Type":"application/json"},body:{firstName:d,lastName:x,address:g,paymentMethod:r,order:n}},function(t,n,a,c){var r={id:"o"+e.orderId,firstName:t,lastName:n,address:a,payment:c};e.onAddOrder(r)}(d,x,g,r)),null===o&&(t(G.removeAllItems()),e.setShowCheckout(!1),t(f.onClose()),e.onSuccessOrder(!0))}},className:K.a["checkout-form"],children:[Object(j.jsxs)("div",{className:K.a[M],children:[Object(j.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",onChange:h,onBlur:O,value:d}),b&&Object(j.jsx)("p",{className:K.a.error,children:"First Name shound not be empty"})]}),Object(j.jsxs)("div",{className:K.a[F],children:[Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",onChange:C,onBlur:N,value:x}),v&&Object(j.jsx)("p",{className:K.a.error,children:"Last Name shound not be empty"})]}),Object(j.jsxs)("div",{className:K.a[H],children:[Object(j.jsx)("label",{htmlFor:"address",children:"Address"}),Object(j.jsx)("input",{type:"text",onChange:S,onBlur:A,value:g}),I&&Object(j.jsx)("p",{className:K.a.error,children:"Address shound not be empty"})]}),Object(j.jsxs)("div",{className:K.a["form-control"],children:[Object(j.jsx)("label",{htmlFor:"name",children:"Payment method"}),Object(j.jsxs)("select",{name:"pay",ref:c,children:[Object(j.jsx)("option",{defaultValue:!0,value:"Cash",children:"Cash"}),Object(j.jsx)("option",{value:"Credit card",children:"Credit card"})]})]}),Object(j.jsx)(E,{showConfirm:e.showConfirm,hasCartItems:e.hasCartItems,formIsValid:w,btnType:"confirm"})]})]})},$=n(19),ee=n.n($),te=function(e){var t=Object(l.c)((function(e){return e.cart.items})),n=Object(l.b)(),c=Object(a.useState)(!1),r=Object(i.a)(c,2),o=r[0],u=r[1],d=Object(a.useState)([]),m=Object(i.a)(d,2),b=m[0],h=m[1],O=t.length>0,f=t.reduce((function(e,t){return e+ +t.price*t.amount}),0),p=function(e){n(G.removeItem(e))},x=function(e){n(G.addItem(Object(g.a)(Object(g.a)({},e),{},{amount:1})))},_=o?ee.a["modal-checkout"]:ee.a.modal;return s.a.createPortal(Object(j.jsx)("div",{className:ee.a["modal-background"],children:Object(j.jsx)("div",{className:_,children:Object(j.jsxs)("div",{className:ee.a["modal-content"],children:[Object(j.jsx)("div",{className:ee.a.container,children:t.map((function(e){return Object(j.jsx)(S,{cartMeal:e,onRemove:p.bind(null,e.id),onAdd:x.bind(null,e)},e.id)}))}),Object(j.jsx)(M,{total:Math.floor(100*f)/100}),o?Object(j.jsx)(X,{hasCartItems:O,showConfirm:o,onAddOrder:function(e){h((function(t){return t.concat(e)}))},orderId:b.length+1,setShowCheckout:u,onSuccessOrder:e.onSuccessOrder}):Object(j.jsx)(E,{hasCartItems:O,orderHandler:function(){u(!0)},showConfirm:o})]})})}),document.getElementById("modal"))},ne=n(32),ae=n.n(ne),ce=function(e){return s.a.createPortal(Object(j.jsx)("div",{className:ae.a.container,children:Object(j.jsxs)("div",{className:ae.a.success,children:[Object(j.jsx)("p",{children:"Successfully ordered!"}),Object(j.jsx)(T,{onClick:function(){e.setIsSuccessfullyOrdered(!1)},color:"light",children:"Close"})]})}),document.getElementById("modal"))},re=function(e){var t=Object(l.c)((function(e){return e.ui.isModalOpen})),n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(j.jsxs)(a.Fragment,{children:[t&&Object(j.jsx)(te,{onSuccessOrder:s}),r&&Object(j.jsx)(ce,{setIsSuccessfullyOrdered:s}),Object(j.jsx)(y,{}),Object(j.jsx)("main",{className:d.a.main,children:e.children})]})},se=n(39),oe=n.n(se),ie=function(){return Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("div",{className:oe.a.contacts,children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Email: tasteful@ukr.net"}),Object(j.jsx)("li",{children:"Phone number: 0956434123"}),Object(j.jsx)("li",{children:"Address: Rivne, Solomii Krushelnitskoi 54"})]})})})},le=n(24),ue=n.n(le),de=function(){return Object(j.jsx)(a.Fragment,{children:Object(j.jsxs)("div",{className:ue.a["about-us"],children:[Object(j.jsx)("div",{className:ue.a.img}),Object(j.jsxs)("div",{className:ue.a.text,children:[Object(j.jsx)("h2",{children:"About us"}),Object(j.jsx)("p",{children:"Tasteful is the app that allows you to get the best products of your city in a few minutes. We connect users, businesses and couriers to make that possible. The project was born with the aim of transforming the way users acquire what they need, making cities more accessible. At Tasteful we want to give everyone easy access to anything in their city, having a sustainable impact on the economy, society and environment: we are a tech-first responsible company."})]})]})})},me=n(40),je=n.n(me),be=function(){return Object(j.jsx)("p",{className:je.a.error,children:"Page is not found!"})},he=n(33),Oe=n.n(he),fe=c.a.forwardRef((function(e,t){return Object(j.jsxs)("div",{className:Oe.a["form-control"],children:[Object(j.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(j.jsx)("input",Object(g.a)(Object(g.a)({ref:t},e.input),{},{className:e.className?Oe.a[e.className]:""}))]})})),pe=n(34),xe=n.n(pe),_e=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(!0),r=Object(i.a)(n,2),s=r[0],o=r[1];return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=t.current.value,c=+a;0===a.trim().length||c<1||c>5?o(!1):(o(!0),e.onAddToCart(c),t.current.value=1)},className:xe.a["meals-form"],children:[!s&&Object(j.jsx)("p",{class:xe.a.error,children:"Please enter a valid amount (1-5)."}),Object(j.jsx)(fe,{className:"amount",ref:t,label:"Amount",input:{id:"amount_"+e.id,type:"number",step:"1",defaultValue:"1"}}),Object(j.jsx)(T,{type:"submit",color:"dark",children:"+Add"})]})})},ve=n(20),Ce=n.n(ve),Ne=function(e){var t=Object(l.b)();return Object(j.jsxs)("div",{className:Ce.a["meal-item"],children:[Object(j.jsxs)("div",{className:Ce.a["meal-info"],children:[Object(j.jsx)("h4",{className:Ce.a.name,children:e.name}),Object(j.jsx)("p",{className:Ce.a.description,children:e.description}),Object(j.jsxs)("h3",{className:Ce.a.price,children:["$",e.price]})]}),Object(j.jsx)(_e,{onAddToCart:function(n){t(G.addItem({id:e.id,name:e.name,amount:n,price:e.price}))},id:e.id,name:e.name,price:e.price})]})},ye=n(41),ge=n.n(ye),ke=function(e){return Object(j.jsx)("div",{className:ge.a.meals,children:e.meals.map((function(e){return Object(j.jsx)(Ne,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}))})},Ie=n(21),Se=n.n(Ie),Ae=function(){return Object(j.jsx)("div",{className:Se.a["hero-section"],children:Object(j.jsx)("div",{className:Se.a.container,children:Object(j.jsxs)("div",{className:Se.a["text-block"],children:[Object(j.jsx)("h2",{className:Se.a["text-header"],children:"Best restaurant in the city"}),Object(j.jsx)("p",{className:Se.a["text-p"],children:"Choose your favourite meal from our menu and enjoy delicious lunch or dinner at home"})]})})})},we=(n(55),!0);var Me=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.cart})),n=J(),c=n.isLoading,r=n.error,s=n.sendRequest,o=J().sendRequest,u=J().sendRequest,d=Object(a.useState)([]),m=Object(i.a)(d,2),b=m[0],h=m[1],O=!0;return Object(a.useEffect)((function(){return s({url:"https://react-http-e03c3-default-rtdb.firebaseio.com/meals.json"},(function(e){var t=[];for(var n in e)t.push({id:n,name:e[n].name,description:e[n].description,price:e[n].price});h(t)}),O),function(){O=!1}}),[s]),Object(a.useEffect)((function(){o({url:"https://react-http-e03c3-default-rtdb.firebaseio.com/cart.json"},(function(t){e(G.replaceCart({items:t.items||[],totalAmount:t.totalAmount}))}))}),[o,e]),Object(a.useEffect)((function(){we?we=!1:t.changed&&u({url:"https://react-http-e03c3-default-rtdb.firebaseio.com/cart.json",method:"PUT",body:{items:t.items,totalAmount:t.totalAmount},headers:{"Content-Type":"application/json"}},(function(e){}))}),[t,u]),Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Ae,{}),r?Object(j.jsx)("p",{className:"error-message meals",children:r}):Object(j.jsx)(ke,{meals:b}),c&&Object(j.jsx)(U,{})]})};n(56);var Fe=function(){return Object(j.jsx)(re,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:Object(j.jsx)(o.a,{to:"/meals"})}),Object(j.jsx)(o.b,{path:"/meals",children:Object(j.jsx)(Me,{})}),Object(j.jsx)(o.b,{path:"/contacts",children:Object(j.jsx)(ie,{})}),Object(j.jsx)(o.b,{path:"/about-us",children:Object(j.jsx)(de,{})}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(be,{})})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},Te=Object(h.a)({reducer:{cart:Y,ui:p}});s.a.render(Object(j.jsx)(l.a,{store:Te,children:Object(j.jsx)(m.a,{children:Object(j.jsx)(Fe,{})})}),document.getElementById("root")),He()}],[[57,1,2]]]);
//# sourceMappingURL=main.488a6e2e.chunk.js.map